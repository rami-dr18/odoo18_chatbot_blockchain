<odoo>

    <!-- Liste des Produits -->
    <record id="view_stock_product_tree" model="ir.ui.view">
    <field name="name">stock.product.tree</field>
    <field name="model">stock.product</field>
    <field name="arch" type="xml">
        <list string="Produits Stock√©s">
            <field name="name"/>
            <field name="quantity"/>
            <field name="status" readonly="1" decoration-danger="quantity == 0" decoration-success="quantity > 0" class="oe_bold"/>
        </list>
    </field>
    </record>



    <!-- Formulaire Produit -->
    <record id="view_stock_product_form" model="ir.ui.view">
        <field name="name">stock.product.form</field>
        <field name="model">stock.product</field>
        <field name="arch" type="xml">
            <form string="Produit Stock√©">
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="quantity"/>
                            <field name="status" readonly="1"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="üîÑ Smart Contract Auto-Reorder">
                            <group>
                                <group string="Configuration">
                                    <field name="auto_reorder_enabled" widget="boolean_toggle"/>
                                    <field name="reorder_threshold" invisible="not auto_reorder_enabled"/>
                                    <field name="reorder_quantity" invisible="not auto_reorder_enabled"/>
                                </group>
                                <group string="Fournisseur">
                                    <field name="supplier_id" invisible="not auto_reorder_enabled"/>
                                    <field name="lead_time_days" invisible="not auto_reorder_enabled"/>
                                </group>
                            </group>
                            <div invisible="not auto_reorder_enabled" style="padding: 15px; background: #e8f5e9; border-radius: 8px; margin-top: 10px;">
                                <p style="margin: 0; color: #2e7d32;">
                                    ‚úÖ <strong>Smart Contract Activ√©:</strong> Un contrat de r√©approvisionnement sera automatiquement cr√©√© et valid√© sur la blockchain lorsque le stock atteindra <field name="reorder_threshold" readonly="1" class="oe_inline"/> unit√©s.
                                </p>
                            </div>
                        </page>
                    </notebook>
                    
                    <footer>
                        <button special="cancel" string="Fermer"/>
                    </footer>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Action pour ouvrir la liste des Produits -->
    <record id="action_stock_products" model="ir.actions.act_window">
        <field name="name">Produits</field>
        <field name="res_model">stock.product</field>
        <field name="view_mode">list,form</field>
    </record>

</odoo>
